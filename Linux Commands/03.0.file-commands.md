# üß© Linux File Permissions, Compression & File Transfer ‚Äî Detailed Notes

---

## üóÇÔ∏è Index

### üîê File Permission Commands

1. [umask](#1-umask)
2. [ls -l](#2-ls--l)
3. [chmod](#3-chmod)
4. [chown](#4-chown)
5. [chgrp](#5-chgrp)

---

### üóúÔ∏è Compression Commands

1. [zip, gzip, gunzip](#1-zip-gzip-and-gunzip)
2. [tar, untar](#2-tar-and-untar)

---

### üöö File Transfer Commands

1. [scp](#1-scp---secure-copy)
2. [rsync](#2-rsync)

---

## üîê FILE PERMISSION COMMANDS

---

### 1Ô∏è‚É£ `umask`

**Purpose:**
Determines the **default permission mask** for newly created files and directories.

---

**Concept:**

* Linux permissions are expressed as numeric values:

  * **r (read)** = 4
  * **w (write)** = 2
  * **x (execute)** = 1

* Default permissions before applying `umask`:

  * **Files:** `666` (rw-rw-rw-)
  * **Directories:** `777` (rwxrwxrwx)

* `umask` subtracts permissions from these defaults.

---

**Syntax:**

```bash
umask [mask]
```

**Examples:**

```bash
umask                # View current umask
umask 022            # Sets default: owner rwx, others r-x
umask 077            # Owner full access, others none
```

**Example Calculation:**

* Default file permission: `666`
* umask = `022`
* New file permission = `666 - 022 = 644`
  ‚Üí `rw-r--r--`

---

**Permanent Change:**
Add this line to `~/.bashrc` or `/etc/profile`:

```bash
umask 022
```

---

### 2Ô∏è‚É£ `ls -l`

**Purpose:**
Lists files and directories **with detailed permissions and metadata**.

---

**Syntax:**

```bash
ls -l [path]
```

**Example Output:**

```
-rw-r--r--  1 vighnesh  devs  2048 Oct  4  notes.txt
```

**Breakdown:**

| Section     | Meaning                                 | Example     |
| ----------- | --------------------------------------- | ----------- |
| `-`         | File type (`-` = file, `d` = directory) | `-`         |
| `rw-r--r--` | Permissions (Owner, Group, Others)      | `rw-r--r--` |
| `1`         | Number of hard links                    | `1`         |
| `vighnesh`  | Owner                                   |             |
| `devs`      | Group                                   |             |
| `2048`      | File size in bytes                      |             |
| `Oct 4`     | Last modified date                      |             |
| `notes.txt` | File name                               |             |

---

**Use with flags:**

```bash
ls -lh     # Human readable sizes (KB, MB)
ls -la     # Show hidden files
ls -ld dir # Show permissions of a directory
```

---

### 3Ô∏è‚É£ `chmod`

**Purpose:**
Changes **file or directory permissions**.

---

**Syntax:**

```bash
chmod [options] mode file
```

---

#### üîπ Symbolic Method:

```bash
chmod [u/g/o/a][+/-/=][r/w/x] file
```

| Symbol | Meaning                 |
| ------ | ----------------------- |
| `u`    | user (owner)            |
| `g`    | group                   |
| `o`    | others                  |
| `a`    | all (user+group+others) |

**Examples:**

```bash
chmod u+x script.sh       # Add execute to owner
chmod go-rw secret.txt    # Remove read/write from group & others
chmod a=r file.txt        # Read-only for all
```

---

#### üîπ Numeric Method:

| Value | Permission |
| ----- | ---------- |
| 7     | rwx        |
| 6     | rw-        |
| 5     | r-x        |
| 4     | r--        |
| 0     | ---        |

**Example:**

```bash
chmod 755 app.sh
# Owner: rwx | Group: r-x | Others: r-x
```

---

### 4Ô∏è‚É£ `chown`

**Purpose:**
Changes the **owner** (and optionally **group**) of a file or directory.

---

**Syntax:**

```bash
sudo chown [options] owner[:group] file
```

**Examples:**

```bash
sudo chown vighnesh file.txt
sudo chown vighnesh:devs project/
sudo chown -R root:root /etc/nginx
```

**Options:**

| Option | Description                                       |
| ------ | ------------------------------------------------- |
| `-R`   | Recursively apply to all files inside a directory |

---

**Check Ownership:**

```bash
ls -l file.txt
```

Output example:

```
-rw-r--r-- 1 vighnesh devs 120 Oct 4 file.txt
```

---

### 5Ô∏è‚É£ `chgrp`

**Purpose:**
Changes the **group ownership** of a file or directory.

---

**Syntax:**

```bash
sudo chgrp [options] group file
```

**Example:**

```bash
sudo chgrp developers project/
sudo chgrp -R devs /var/www/
```

**Notes:**

* Only the owner or root can change a file‚Äôs group.
* Use `ls -l` to verify group change.

---

## üóúÔ∏è COMPRESSION COMMANDS

---

### 1Ô∏è‚É£ `zip`, `gzip`, and `gunzip`

#### üîπ `zip`

**Purpose:**
Compresses files into `.zip` archives.

**Syntax:**

```bash
zip [options] archive_name.zip file1 file2 ...
```

**Examples:**

```bash
zip project.zip file1.txt file2.txt
zip -r project.zip project_folder/
```

**Options:**

| Option | Description                        |
| ------ | ---------------------------------- |
| `-r`   | Recursive (include subdirectories) |
| `-d`   | Delete entries from archive        |
| `-u`   | Update existing archive            |

---

#### üîπ `gzip`

**Purpose:**
Compresses files using `.gz` format (single file compression).

**Syntax:**

```bash
gzip [options] file
```

**Examples:**

```bash
gzip file.txt        # Compress file.txt ‚Üí file.txt.gz
gzip -k file.txt     # Keep original file
gzip -r logs/        # Compress all files in directory
```

---

#### üîπ `gunzip`

**Purpose:**
Decompresses `.gz` files created by `gzip`.

**Syntax:**

```bash
gunzip [options] file.gz
```

**Example:**

```bash
gunzip file.txt.gz
```

**Options:**

| Option | Description             |
| ------ | ----------------------- |
| `-k`   | Keep compressed version |
| `-r`   | Decompress recursively  |

---

### 2Ô∏è‚É£ `tar` and `untar`

**Purpose:**
`tar` (tape archive) combines multiple files/directories into a single archive (with or without compression).

---

**Syntax:**

```bash
tar [options] archive_name.tar [files...]
```

**Common Options:**

| Option | Description                    |
| ------ | ------------------------------ |
| `-c`   | Create archive                 |
| `-x`   | Extract files                  |
| `-v`   | Verbose (show progress)        |
| `-f`   | File name                      |
| `-z`   | Compress with gzip (.tar.gz)   |
| `-j`   | Compress with bzip2 (.tar.bz2) |

---

**Examples:**

**Create a tar archive:**

```bash
tar -cvf project.tar project_folder/
```

**Create compressed tar.gz:**

```bash
tar -czvf project.tar.gz project_folder/
```

**Extract a tar.gz file:**

```bash
tar -xzvf project.tar.gz
```

**Extract to a specific directory:**

```bash
tar -xzvf project.tar.gz -C /tmp/
```

---

## üöö FILE TRANSFER COMMANDS

---

### 1Ô∏è‚É£ `scp` ‚Äî Secure Copy

**Purpose:**
Securely copy files between **local ‚Üî remote** systems using SSH.

---

**Syntax:**

```bash
scp [options] source destination
```

**Examples:**

**Upload file to remote:**

```bash
scp file.txt user@remote:/home/user/
```

**Download file from remote:**

```bash
scp user@remote:/home/user/file.txt /local/path/
```

**Copy entire directory:**

```bash
scp -r project/ user@remote:/var/www/
```

**Common Options:**

| Option | Description      |
| ------ | ---------------- |
| `-r`   | Recursive copy   |
| `-P`   | Specify SSH port |
| `-v`   | Verbose mode     |

---

### 2Ô∏è‚É£ `rsync`

**Purpose:**
Efficiently **sync files and directories** locally or over SSH.
Transfers only the **differences**, saving bandwidth.

---

**Syntax:**

```bash
rsync [options] source destination
```

**Examples:**

**Local sync:**

```bash
rsync -avh /source/folder/ /backup/folder/
```

**Remote sync (via SSH):**

```bash
rsync -avz /local/dir user@remote:/remote/dir
```

**Download from remote:**

```bash
rsync -avz user@remote:/remote/dir /local/dir
```

**Options:**

| Option     | Description                                          |
| ---------- | ---------------------------------------------------- |
| `-a`       | Archive mode (preserves permissions, symlinks, etc.) |
| `-v`       | Verbose output                                       |
| `-z`       | Compress data during transfer                        |
| `--delete` | Deletes files in destination not in source           |
| `-P`       | Shows progress during transfer                       |

---

**Example with Progress and Deletion:**

```bash
rsync -avzP --delete /source/ user@remote:/backup/
```

---

## ‚ö° Summary Table

| Category         | Command           | Purpose                           |
| ---------------- | ----------------- | --------------------------------- |
| File Permissions | `umask`           | Set default file permissions      |
|                  | `ls -l`           | View file permissions             |
|                  | `chmod`           | Change file/directory permissions |
|                  | `chown`           | Change file owner                 |
|                  | `chgrp`           | Change file group                 |
| Compression      | `zip/gzip/gunzip` | Compress & decompress files       |
|                  | `tar/untar`       | Archive multiple files            |
| File Transfer    | `scp`             | Secure file copy via SSH          |
|                  | `rsync`           | Sync directories efficiently      |

---
