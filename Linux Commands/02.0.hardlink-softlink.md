# 📌 Hard Link vs Soft Link in Linux

## 🔹 1. What is a Link?

* A **link** in Linux is a reference (pointer) to a file.
* Two types of links:

  1. **Hard Link** → Direct reference to the file’s data (inode).
  2. **Soft Link (Symbolic Link)** → Shortcut (like Windows shortcut), points to the file path.

---

## 🔹 2. Inode Concept (Important to Understand Links)

* Every file in Linux is represented by an **inode** (index node).
* Inode contains:

  * File metadata (permissions, ownership, timestamps, size, etc.).
  * Pointers to actual data blocks.
* A filename is just a label in a **directory** pointing to an inode.

---

## 🔹 3. Hard Link

* A **hard link** is another filename that points to the **same inode** as the original file.
* Both filenames refer to the same physical data.
* Deleting one filename does not delete the data as long as another hard link exists.

### ✅ Properties of Hard Link

* Points directly to the **inode** of the file.
* Original file and hard link are **indistinguishable**.
* **Same inode number** (check with `ls -li`).
* File permissions and content are the same.
* If the original file is deleted, the data still exists (until all hard links are removed).
* Cannot span across different filesystems/partitions.
* Cannot be created for directories (to prevent loops).

### 🖥️ Example

```bash
# Create a file
echo "Hello DevOps" > file1.txt

# Create a hard link
ln file1.txt file1_hard.txt

# List with inode numbers
ls -li file1.txt file1_hard.txt
```

📌 Both files will have the **same inode number**.

---

## 🔹 4. Soft Link (Symbolic Link)

* A **soft link** is a separate file that points to the **path** of another file.
* Works like a Windows shortcut.
* If the original file is deleted, the soft link becomes a **dangling link** (broken).

### ✅ Properties of Soft Link

* Points to the **filename/path**, not the inode.
* Has its **own inode number** (different from target).
* Can cross **filesystems and partitions**.
* Can be created for both **files and directories**.
* If the original file is deleted → soft link is broken.
* File permissions are for the link file, not the target.

### 🖥️ Example

```bash
# Create a soft link
ln -s file1.txt file1_soft.txt

# List with inode numbers
ls -li file1.txt file1_soft.txt
```

📌 `file1_soft.txt` will have a **different inode** and show an arrow → `file1.txt`.

---

## 🔹 5. Hard Link vs Soft Link (Comparison Table)

| Feature             | Hard Link                        | Soft Link (Symbolic)           |
| ------------------- | -------------------------------- | ------------------------------ |
| Inode Number        | Same as original file            | Different from original file   |
| Points To           | File’s inode (data)              | File’s path (name)             |
| If Original Deleted | Data still accessible (via link) | Becomes broken (dangling link) |
| Across Filesystems  | ❌ Not possible                   | ✅ Possible                     |
| Directories         | ❌ Not allowed                    | ✅ Allowed                      |
| File Permissions    | Same as original                 | Independent                    |
| Storage Space       | No extra space (same inode)      | Small extra space (path info)  |

---

## 🔹 6. Practical Demo

```bash
# Create original file
echo "Linux Links Example" > demo.txt

# Hard link
ln demo.txt demo_hard.txt

# Soft link
ln -s demo.txt demo_soft.txt

# Check inode numbers
ls -li demo*
```

### Expected Output

```plaintext
123456 -rw-r--r-- 2 user user 20 Sep 20 22:00 demo.txt
123456 -rw-r--r-- 2 user user 20 Sep 20 22:00 demo_hard.txt
123789 lrwxrwxrwx 1 user user  8 Sep 20 22:00 demo_soft.txt -> demo.txt
```

* `demo.txt` and `demo_hard.txt` → **same inode (123456)**.
* `demo_soft.txt` → **different inode (123789)**, points to path.

---

## 🔹 7. When to Use

* **Hard Link** → when you want multiple names for the same data and ensure file survives even if original is deleted.
* **Soft Link** → when you want shortcuts, links across filesystems, or links to directories.

---
