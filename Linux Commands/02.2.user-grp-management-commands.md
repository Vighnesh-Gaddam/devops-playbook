# 🧑‍💻 User & Group Management Commands in Linux

---

## 📘 Index

- [🧑‍💻 User \& Group Management Commands in Linux](#-user--group-management-commands-in-linux)
  - [📘 Index](#-index)
  - [1. 🧍‍♂️ `sudo`](#1-️-sudo)
  - [2. 👤 `useradd`](#2--useradd)
  - [3. 🙋 `whoami`](#3--whoami)
  - [4. 🔁 `su`](#4--su)
  - [5. 🔒 `passwd`](#5--passwd)
  - [6. ❌ `userdel`](#6--userdel)
  - [7. 👥 `groupadd`](#7--groupadd)
  - [8. 🧩 `gpasswd -a , -m`](#8--gpasswd--a---m)
  - [9. 🗑️ `groupdel`](#9-️-groupdel)
  - [⚙️ Summary Table](#️-summary-table)

---

## 1. 🧍‍♂️ `sudo`

**Purpose:**
`sudo` (superuser do) allows a permitted user to execute a command as the superuser or another user, as specified by the security policy.

**Usage:**

```bash
sudo command
```

**Examples:**

```bash
sudo apt update        # Run apt update as superuser
sudo cat /etc/shadow   # View restricted system file
```

**Notes:**

* It temporarily grants **root privileges**.
* Requires the user to be in the **sudoers file** (`/etc/sudoers`).
* For continuous root access:

  ```bash
  sudo -i
  ```

  or

  ```bash
  sudo su
  ```

---

## 2. 👤 `useradd`

**Purpose:**
Used to **create a new user account** in the system.

**Syntax:**

```bash
sudo useradd [options] username
```

**Common Options:**

| Option         | Description                       |
| -------------- | --------------------------------- |
| `-m`           | Creates the user’s home directory |
| `-d /path`     | Specifies a custom home directory |
| `-s /bin/bash` | Sets the login shell              |
| `-G group`     | Adds the user to a group          |

**Example:**

```bash
sudo useradd -m -s /bin/bash -G developers vighnesh
```

**Creates:**

* Home directory → `/home/vighnesh`
* Shell → `/bin/bash`
* Group → `developers`

---

## 3. 🙋 `whoami`

**Purpose:**
Displays the **current logged-in username**.

**Usage:**

```bash
whoami
```

**Example Output:**

```
vighnesh
```

**Notes:**

* Useful for verifying which user is currently active (especially after switching users).

---

## 4. 🔁 `su`

**Purpose:**
`su` (substitute user) is used to **switch to another user account**.

**Syntax:**

```bash
su [username]
```

**Examples:**

```bash
su root          # Switch to root account
su vighnesh      # Switch to user 'vighnesh'
```

**Notes:**

* If no username is specified, defaults to **root**.
* You must know the target user’s password.
* To switch with login environment:

  ```bash
  su - username
  ```

---

## 5. 🔒 `passwd`

**Purpose:**
Used to **set or change a user password**.

**Syntax:**

```bash
passwd [username]
```

**Examples:**

```bash
passwd                 # Change your own password
sudo passwd vighnesh   # Change password for another user
```

**Notes:**

* Root can reset any user’s password.
* The passwords are stored (encrypted) in `/etc/shadow`.

---

## 6. ❌ `userdel`

**Purpose:**
Deletes a user from the system.

**Syntax:**

```bash
sudo userdel [options] username
```

**Common Options:**

| Option | Description                                      |
| ------ | ------------------------------------------------ |
| `-r`   | Removes the user’s home directory and mail spool |

**Example:**

```bash
sudo userdel -r vighnesh
```

**Notes:**

* You should first kill all processes of that user using `pkill -u username`.
* Doesn’t delete shared files owned by that user.

---

## 7. 👥 `groupadd`

**Purpose:**
Used to **create a new group**.

**Syntax:**

```bash
sudo groupadd [options] groupname
```

**Example:**

```bash
sudo groupadd developers
```

**Notes:**

* Group info stored in `/etc/group`.
* Useful for organizing users with similar roles or permissions.

---

## 8. 🧩 `gpasswd -a , -m`

**Purpose:**
Manages group membership — add, remove, or set group admins.

**Syntax:**

```bash
sudo gpasswd -a user group     # Add a user to group
sudo gpasswd -d user group     # Remove a user from group
sudo gpasswd -M user1,user2 group  # Replace members
```

**Examples:**

```bash
sudo gpasswd -a vighnesh developers
sudo gpasswd -M vighnesh,raj devops
```

**Notes:**

* Updates `/etc/group` file.
* `-a` adds a user; `-M` sets multiple users at once.

---

## 9. 🗑️ `groupdel`

**Purpose:**
Deletes a group from the system.

**Syntax:**

```bash
sudo groupdel groupname
```

**Example:**

```bash
sudo groupdel developers
```

**Notes:**

* You **cannot delete a group** if it is the **primary group** of any existing user.
* Check group details:

  ```bash
  getent group groupname
  ```

---

## ⚙️ Summary Table

| Command    | Purpose                       | Example                     |
| ---------- | ----------------------------- | --------------------------- |
| `sudo`     | Run command with admin rights | `sudo apt update`           |
| `useradd`  | Add new user                  | `sudo useradd -m vighnesh`  |
| `whoami`   | Show current user             | `whoami`                    |
| `su`       | Switch user                   | `su root`                   |
| `passwd`   | Change password               | `passwd`                    |
| `userdel`  | Delete user                   | `sudo userdel -r vighnesh`  |
| `groupadd` | Create group                  | `sudo groupadd devs`        |
| `gpasswd`  | Manage group membership       | `sudo gpasswd -a user devs` |
| `groupdel` | Delete group                  | `sudo groupdel devs`        |

